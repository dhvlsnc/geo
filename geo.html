<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentation: The GEO Revolution (Interactive Edition)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0F172A; /* slate-900 */
        }
        .slide {
            display: none;
            min-height: 85vh;
            background-color: #1E293B; /* slate-800 */
            color: #F8FAFC; /* slate-50 */
            border: 1px solid #334155; /* slate-700 */
        }
        .slide.active {
            display: flex;
        }
        .nav-button {
            position: fixed;
            bottom: 1.5rem;
            background-color: #0EA5E9; /* sky-500 */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            box-shadow: 0 4px 14px 0 rgb(14 165 233 / 39%);
            transition: all 0.2s;
            z-index: 50;
            cursor: pointer;
        }
        .nav-button:hover {
            background-color: #38BDF8; /* sky-400 */
            transform: translateY(-2px);
        }
        #prevBtn {
            left: 1.5rem;
        }
        #nextBtn {
            right: 1.5rem;
        }
        #slideCounter {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            z-index: 50;
        }
        .highlight {
            color: #38BDF8; /* sky-400 */
            font-weight: 700;
        }
        /* Chat Simulation Styles */
        .chat-container {
            width: 100%;
            max-width: 700px;
            height: 450px;
            background-color: #0F172A;
            border-radius: 0.75rem;
            border: 1px solid #334155;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .chat-message {
            display: flex;
            align-items: flex-end;
            gap: 0.75rem;
            max-width: 85%;
        }
        .chat-message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        .chat-avatar {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 9999px;
            background-color: #334155;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }
        .chat-bubble {
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            background-color: #334155;
        }
        .chat-message.user .chat-bubble {
            background-color: #0EA5E9;
        }
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #94A3B8;
            animation: bounce 1.4s infinite both;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        .chat-controls {
            padding: 0.5rem 1rem;
            background-color: #1E293B;
            border-top: 1px solid #334155;
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        .control-btn {
            background-color: #334155;
            color: #F8FAFC;
            border: 1px solid #475569;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .control-btn:hover {
            background-color: #475569;
        }
        .hidden {
            display: none !important;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="presentation-container" class="w-full max-w-6xl">

        <!-- Slide 1: Title -->
        <div class="slide active flex-col items-center justify-center text-center p-8 rounded-2xl">
            <h1 class="text-5xl md:text-7xl font-black tracking-tight">The GEO Revolution</h1>
            <p class="mt-4 text-2xl text-slate-300 font-medium">The New Playbook for Winning at SEO in the Age of AI</p>
            <div class="mt-8 text-slate-400 text-sm">Interactive Edition</div>
        </div>

        <!-- Slide 2: The Problem -->
        <div class="slide flex-col items-center justify-center text-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-4">Let's face it: Search has changed. <span class="text-red-500">Forever.</span></h2>
            <p class="text-xl text-slate-300 max-w-3xl">While most SEOs are still chasing keyword rankings, Google has completely rewritten the rules. AI Overviews are here, and they're not going away.</p>
            <div class="mt-8 bg-slate-900/50 p-8 rounded-xl border border-slate-700">
                <p class="text-slate-300 text-lg">The data shows a potential...</p>
                <p class="text-7xl font-black text-red-500 my-2">-34.5%</p>
                <p class="text-slate-300 text-lg">...drop in organic clicks when an AI Overview is present.</p>
            </div>
            <p class="mt-6 text-slate-400">The bottom line? Relying only on traditional SEO is a losing strategy.</p>
        </div>
        
        <!-- Slide 3: The Data -->
        <div class="slide flex-col lg:flex-row items-center justify-center p-8 rounded-2xl gap-8">
            <div class="w-full lg:w-1/2 text-center lg:text-left">
                <h3 class="text-3xl font-extrabold text-slate-100 mb-4">The data is undeniable.</h3>
                <ul class="space-y-4 text-lg text-slate-300">
                    <li><span class="highlight">➤ 13.14%</span> of all Google searches now trigger an AI Overview.</li>
                    <li><span class="highlight">➤ 1 in 10</span> US users already prefer AI for search.</li>
                    <li>➤ Google's market share is dipping below <span class="highlight">90%</span> for the first time since 2015.</li>
                </ul>
                <p class="mt-6 text-slate-400">This isn't a future trend. It's a present-day reality that's impacting traffic right now.</p>
            </div>
            <div class="w-full lg:w-1/2">
                <div class="chart-container">
                    <canvas id="aioPrevalenceChart"></canvas>
                </div>
                 <p class="text-center text-sm text-slate-400 mt-2">AIO Prevalence: Jan '25 vs Mar '25</p>
            </div>
        </div>

        <!-- Slide 4: Definitions -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-8 text-center">What is GEO? (And Other New Terms You MUST Know)</h2>
            <div class="space-y-5 w-full max-w-3xl">
                <div class="bg-slate-700/50 p-5 rounded-lg">
                    <h3 class="font-bold text-xl highlight">Generative Engine Optimization (GEO)</h3>
                    <p class="text-slate-300 mt-1">This isn't about getting clicks. It's about getting **cited**. GEO is the strategy of becoming a trusted source inside AI-generated answers.</p>
                </div>
                <div class="bg-slate-700/50 p-5 rounded-lg">
                    <h3 class="font-bold text-xl highlight">Answer Engine Optimization (AEO)</h3>
                    <p class="text-slate-300 mt-1">A key part of GEO. It's the tactic of structuring your content into bite-sized Q&As that AI can easily "chunk" and use.</p>
                </div>
                 <div class="bg-slate-700/50 p-5 rounded-lg">
                    <h3 class="font-bold text-xl highlight">LLM SEO</h3>
                    <p class="text-slate-300 mt-1">The big picture. Optimizing ALL your content to be found, understood, and trusted by Large Language Models like GPT-4 and Gemini.</p>
                </div>
            </div>
        </div>

        <!-- Slide 5: Interactive Simulation -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-6 text-center">How AI Search *Actually* Works</h2>
            <p class="text-center text-slate-300 mb-6 max-w-2xl">Instead of a diagram, let's see it in action. Press Play.</p>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be injected here by JS -->
                </div>
            </div>
            <div class="chat-controls" id="chatControls">
                <button id="playBtn" class="control-btn">▶ Play</button>
                <button id="pauseBtn" class="control-btn hidden">❚❚ Pause</button>
                <button id="restartBtn" class="control-btn">↻ Restart</button>
            </div>
        </div>

        <!-- Slide 6: SEO vs GEO -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-8 text-center">Old SEO vs. New GEO: The Bottom Line</h2>
            <div class="w-full max-w-4xl overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="border-b-2 border-slate-600">
                            <th class="p-3 text-lg font-semibold">Factor</th>
                            <th class="p-3 bg-slate-700/50 rounded-t-lg">Old SEO</th>
                            <th class="p-3 bg-sky-900/50 rounded-t-lg highlight">New GEO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-slate-700"><td class="p-3 font-semibold">The Goal</td><td class="p-3 bg-slate-700/50">Get the click.</td><td class="p-3 bg-sky-900/50">BE the answer.</td></tr>
                        <tr class="border-b border-slate-700"><td class="p-3 font-semibold">Content Unit</td><td class="p-3 bg-slate-700/50">The Page</td><td class="p-3 bg-sky-900/50">The "Chunk"</td></tr>
                        <tr class="border-b border-slate-700"><td class="p-3 font-semibold">Authority Signal</td><td class="p-3 bg-slate-700/50">Backlinks</td><td class="p-3 bg-sky-900/50">Citations & Trust (E-E-A-T)</td></tr>
                         <tr class="border-b border-slate-700"><td class="p-3 font-semibold">Key Metric</td><td class="p-3 bg-slate-700/50">Rankings</td><td class="p-3 bg-sky-900/50">Share of Voice</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Slide 7: GEO Playbook Intro -->
        <div class="slide flex-col items-center justify-center text-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100">The GEO Playbook</h2>
            <p class="text-xl text-slate-300 max-w-3xl mt-4">Okay, so how do you actually DO this? It comes down to 4 core pillars. Let's break them down.</p>
        </div>

        <!-- Slide 8: Pillar 1 -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-2 text-center">Pillar 1: E-E-A-T on Steroids</h2>
            <p class="text-center text-slate-300 mb-8 max-w-2xl">Trust is the #1 ranking factor for AI. If an AI doesn't trust you, it won't cite you. Period.</p>
            <div class="w-full max-w-3xl space-y-4">
                <h3 class="font-bold text-xl highlight">Actionable Steps:</h3>
                <p>✓ Attribute ALL content to a real author with a detailed bio and schema markup.</p>
                <p>✓ Optimize your brand as an "Entity" with a rock-solid Google Business Profile and consistent NAP.</p>
                <p>✓ Publish original research and data. Stop rehashing content and start CREATING knowledge.</p>
            </div>
        </div>

        <!-- Slide 9: Pillar 2 -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-2 text-center">Pillar 2: Content for "Chunking"</h2>
            <p class="text-center text-slate-300 mb-8 max-w-2xl">You need to make it incredibly easy for an AI to grab a piece of your content and use it in an answer.</p>
            <div class="w-full max-w-3xl space-y-4">
                <h3 class="font-bold text-xl highlight">Actionable Steps:</h3>
                <p>✓ Turn your articles into a series of questions and answers. Use H2s and H3s for the questions.</p>
                <p>✓ Use short, declarative sentences for key facts. Make your content "quotable".</p>
                <p>✓ Use structured data like tables and lists. AI loves structured data.</p>
            </div>
        </div>
        
        <!-- Slide 10: Before GEO -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-8 text-center">Content Example: BEFORE GEO</h2>
            <div class="w-full max-w-3xl bg-slate-900/50 p-6 rounded-lg border border-slate-700">
                <h3 class="text-xl font-bold">How to Find the Best Running Shoes</h3>
                <p class="text-slate-300 mt-2">Finding the <strong>best running shoes</strong> is critical. Our guide to the <strong>best running shoes</strong> will help. We cover types of running shoes, including stability running shoes. Making the right choice is important for the <strong>best running shoes</strong>...</p>
            </div>
            <p class="mt-6 text-red-400 font-semibold">Why it fails: Keyword-stuffed, one giant block of text, not "chunkable."</p>
        </div>
        
        <!-- Slide 11: After GEO -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-8 text-center">Content Example: AFTER GEO</h2>
            <div class="w-full max-w-3xl bg-slate-900/50 p-6 rounded-lg border border-slate-700">
                <h2 class="text-2xl font-bold">What are the main types of running shoes?</h2>
                <p class="text-slate-300 mt-2">Running shoes fall into three main types based on foot support: <strong>Neutral, Stability, and Motion Control.</strong></p>
                <table class="w-full text-left mt-4 text-sm">
                    <tr class="border-b border-slate-600"><th class="p-2 highlight">Shoe Type</th><th class="p-2">Best For</th></tr>
                    <tr><td class="p-2"><strong>Neutral</strong></td><td class="p-2">Runners with high arches.</td></tr>
                    <tr><td class="p-2"><strong>Stability</strong></td><td class="p-2">Runners who overpronate.</td></tr>
                </table>
            </div>
            <p class="mt-6 text-green-400 font-semibold">Why it wins: Answers a direct question, uses structured data (table), and is easily "chunked."</p>
        </div>

        <!-- Slide 12: Pillar 3 -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-2 text-center">Pillar 3: Technical SEO for AI</h2>
            <p class="text-center text-slate-300 mb-8 max-w-2xl">Your technical setup is the scaffolding that lets AI crawlers access and understand your content.</p>
            <div class="w-full max-w-3xl space-y-4">
                <h3 class="font-bold text-xl highlight">Actionable Steps:</h3>
                <p>✓ Implement advanced Schema markup. `FAQPage`, `HowTo`, and `Article` schema are now mandatory.</p>
                <p>✓ Check your `robots.txt`! Make SURE you are not blocking `GPTBot` or `Google-Extended`.</p>
                <p>✓ Optimize multi-modal content. Provide full transcripts for videos and detailed alt text for images.</p>
            </div>
        </div>

        <!-- Slide 13: Pillar 4 -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-2 text-center">Pillar 4: The New Link Building</h2>
            <p class="text-center text-slate-300 mb-8 max-w-2xl">It's not about "link juice" anymore. It's about earning citations from sources that AI trusts.</p>
            <div class="w-full max-w-3xl space-y-4">
                <h3 class="font-bold text-xl highlight">Actionable Steps:</h3>
                <p>✓ Target authoritative listicles ("best of" articles). These are a goldmine for AI recommendations.</p>
                <p>✓ Leverage forums like Reddit. AI uses these communities to understand real-world consensus.</p>
                <p>✓ Shift from "link building" to "source building." Become THE definitive source for a specific fact or statistic.</p>
            </div>
        </div>

        <!-- Slide 14: New KPIs -->
        <div class="slide flex-col items-center justify-center p-8 rounded-2xl">
            <h2 class="text-4xl font-extrabold text-slate-100 mb-8 text-center">Your New GEO Dashboard</h2>
            <p class="text-center text-slate-300 mb-8 max-w-2xl">You can't prove value with old metrics. It's time to track what actually matters.</p>
            <div class="w-full max-w-3xl space-y-4">
                <div class="bg-slate-700/50 p-4 rounded-lg border-l-4 border-sky-500"><strong>Primary KPI #1: Brand Mention Volume.</strong> How often is your brand named in AI answers?</div>
                <div class="bg-slate-700/50 p-4 rounded-lg border-l-4 border-sky-500"><strong>Primary KPI #2: Share of Voice (SoV).</strong> What percentage of answers for your core topics do you own?</div>
                <div class="bg-slate-700/50 p-4 rounded-lg border-l-4 border-sky-500"><strong>Primary KPI #3: Citation Analysis.</strong> How many direct, linked citations are you earning?</div>
            </div>
        </div>

        <!-- Slide 15: Conclusion -->
        <div class="slide flex-col items-center justify-center text-center p-8 rounded-2xl">
            <h2 class="text-5xl font-black text-slate-100">The Bottom Line</h2>
            <p class="text-xl text-slate-300 max-w-3xl mt-6">AI search isn't a fad. It's a fundamental rewiring of how people find information. The agencies that master GEO won't just survive. They'll dominate.</p>
            <p class="mt-8 text-2xl font-bold highlight">The question is: Are you ready?</p>
        </div>

    </div>

    <!-- Navigation -->
    <button id="prevBtn" class="nav-button">← Prev</button>
    <button id="nextBtn" class="nav-button">Next →</button>
    <div id="slideCounter"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Slide Navigation ---
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideCounter = document.getElementById('slideCounter');
            let currentSlide = 0;

            function showSlide(n) {
                slides.forEach((slide, index) => {
                    slide.classList.toggle('active', index === n);
                });
                slideCounter.textContent = `${n + 1} / ${slides.length}`;
                prevBtn.style.visibility = n === 0 ? 'hidden' : 'visible';
                nextBtn.style.visibility = n === slides.length - 1 ? 'hidden' : 'visible';
            }

            function changeSlide(direction) {
                currentSlide += direction;
                if (currentSlide < 0) currentSlide = 0;
                if (currentSlide >= slides.length) currentSlide = slides.length - 1;
                showSlide(currentSlide);
            }

            prevBtn.addEventListener('click', () => changeSlide(-1));
            nextBtn.addEventListener('click', () => changeSlide(1));
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') changeSlide(1);
                else if (e.key === 'ArrowLeft') changeSlide(-1);
            });

            showSlide(currentSlide);

            // --- Chart.js Setup ---
            const chartDefaultColor = '#94A3B8'; // slate-400
            Chart.defaults.color = chartDefaultColor;
            Chart.defaults.borderColor = '#334155'; // slate-700
            
            const aioPrevalenceCtx = document.getElementById('aioPrevalenceChart')?.getContext('2d');
            if(aioPrevalenceCtx) {
                new Chart(aioPrevalenceCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan 2025', 'Mar 2025'],
                        datasets: [{
                            label: 'AIO Prevalence %',
                            data: [6.49, 13.14],
                            backgroundColor: ['#38BDF8', '#0EA5E9'],
                            borderColor: '#38BDF8',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true, ticks: { color: chartDefaultColor } }, x: { ticks: { color: chartDefaultColor } } },
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // --- Chat Simulation Logic ---
            const playBtn = document.getElementById('playBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const restartBtn = document.getElementById('restartBtn');
            const chatMessages = document.getElementById('chatMessages');

            let animationTimeout;
            let animationState = 'stopped'; // playing, paused, stopped
            let currentStep = 0;

            const userQuery = "What are the best running shoes for flat feet and marathon training?";
            const aiResponse = "For marathon training with flat feet, stability shoes are highly recommended by both podiatrists and experienced runners. They provide essential arch support to prevent overpronation.\n\nBased on recent reviews and expert analysis, here are the top-tier options:\n\n* **Brooks Adrenaline GTS:** Praised for its 'GuideRails' support system, offering a great balance of cushion and stability.\n* **Hoka Arahi:** Known for its maximalist cushioning while still providing excellent stability, ideal for long distances.\n* **ASICS GEL-Kayano:** A long-standing favorite for its reliable support and durable construction.";

            const animationSteps = [
                { type: 'user', text: userQuery },
                { type: 'ai_thinking', text: 'Scanning: RunnersWorld.com/reviews' },
                { type: 'ai_thinking', text: 'Analyzing: PodiatryExperts.org/flat-feet-guide' },
                { type: 'ai_thinking', text: 'Cross-referencing: Reddit.com/r/AdvancedRunning' },
                { type: 'ai_thinking', text: 'Synthesizing sources...' },
                { type: 'ai_response', text: aiResponse }
            ];

            function typeWriter(element, text, speed, callback) {
                let i = 0;
                function type() {
                    if (animationState !== 'playing') return;
                    if (i < text.length) {
                        // FIX: Check for <br> tag and append it at once.
                        if (text.substring(i, i + 4) === '<br>') {
                            element.innerHTML += '<br>';
                            i += 4;
                        } else {
                            element.innerHTML += text.charAt(i);
                            i++;
                        }
                        animationTimeout = setTimeout(type, speed);
                    } else if (callback) {
                        callback();
                    }
                }
                type();
            }

            function createMessageElement(step) {
                const messageEl = document.createElement('div');
                messageEl.className = `chat-message ${step.type === 'user' ? 'user' : 'ai'}`;
                const avatar = `<div class="chat-avatar">${step.type === 'user' ? 'U' : 'AI'}</div>`;
                const bubble = `<div class="chat-bubble"></div>`;
                messageEl.innerHTML = step.type === 'user' ? bubble + avatar : avatar + bubble;
                chatMessages.appendChild(messageEl);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                return messageEl.querySelector('.chat-bubble');
            }

            function runAnimation() {
                if (currentStep >= animationSteps.length || animationState !== 'playing') {
                    animationState = 'stopped';
                    playBtn.classList.remove('hidden');
                    pauseBtn.classList.add('hidden');
                    return;
                }

                const step = animationSteps[currentStep];
                const bubble = createMessageElement(step);
                let delay = 1500;

                if (step.type === 'user') {
                    typeWriter(bubble, step.text, 30, () => {
                        currentStep++;
                        animationTimeout = setTimeout(runAnimation, delay);
                    });
                } else if (step.type === 'ai_thinking') {
                    bubble.innerHTML = `<div class="typing-indicator"><span></span><span></span><span></span></div>`;
                    const thinkingText = document.createElement('span');
                    thinkingText.className = 'ml-2 text-slate-400 text-sm';
                    bubble.appendChild(thinkingText);
                    typeWriter(thinkingText, ' ' + step.text, 50, () => {
                         currentStep++;
                         animationTimeout = setTimeout(runAnimation, delay);
                    });
                } else if (step.type === 'ai_response') {
                    bubble.classList.add('prose', 'prose-invert', 'prose-sm', 'max-w-none');
                    const formattedText = step.text.replace(/\n/g, '<br>').replace(/\* /g, '• ');
                    typeWriter(bubble, formattedText, 10, () => {
                        currentStep++;
                        animationTimeout = setTimeout(runAnimation, delay);
                    });
                }
            }

            function play() {
                if (animationState === 'stopped') {
                    currentStep = 0;
                    chatMessages.innerHTML = '';
                }
                animationState = 'playing';
                playBtn.classList.add('hidden');
                pauseBtn.classList.remove('hidden');
                runAnimation();
            }

            function pause() {
                animationState = 'paused';
                clearTimeout(animationTimeout);
                playBtn.classList.remove('hidden');
                pauseBtn.classList.add('hidden');
            }

            function restart() {
                animationState = 'stopped';
                clearTimeout(animationTimeout);
                currentStep = 0;
                chatMessages.innerHTML = '';
                playBtn.classList.remove('hidden');
                pauseBtn.classList.add('hidden');
                play();
            }

            playBtn.addEventListener('click', play);
            pauseBtn.addEventListener('click', pause);
            restartBtn.addEventListener('click', restart);
        });
    </script>
</body>
</html>
